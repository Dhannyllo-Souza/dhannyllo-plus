var wpp_params=null,WordPressPopularPosts=function(){var e=function(){},t=!!HTMLElement.prototype.attachShadow,a=function(e,t,a,p,n){var o=new XMLHttpRequest,r=t,s=a,l={"X-Requested-With":"XMLHttpRequest"};for(var i in"POST"==(e=-1!=["GET","POST"].indexOf(e)?e:"GET")&&(l["Content-Type"]="application/x-www-form-urlencoded"),"object"==typeof n&&Object.keys(n).length&&(l=Object.assign({},l,n)),o.open(e,r+("GET"==e?"?"+s:""),!0),l)l.hasOwnProperty(i)&&o.setRequestHeader(i,l[i]);o.onreadystatechange=function(){4===o.readyState&&200<=o.status&&300>o.status&&"function"==typeof p&&p.call(void 0,o.response)},o.send("POST"==e?s:null)};return{get:function(t,p,n,o){a("GET",t,p,n="function"==typeof n?n:e,o)},post:function(t,p,n,o){a("POST",t,p,n="function"==typeof n?n:e,o)},ajax:a,theme:function(e){if(t){var a=document.createElement("style"),p=document.createElement("ul");p.innerHTML='<li><a href="#"></a></li>',e.parentNode.appendChild(p);var n=getComputedStyle(p.querySelector("li")),o=getComputedStyle(p.querySelector("li a"));a.innerHTML=".wpp-list li {font-size: "+n.fontSize+"}",a.innerHTML+=".wpp-list li a {color: "+o.color+"}",e.parentNode.removeChild(p);var r=e.attachShadow({mode:"open"});for(r.append(a);e.firstElementChild;)r.append(e.firstElementChild)}}}}();!function(){try{var e=document.querySelector("script#wpp-json"),t=!0;if((wpp_params=JSON.parse(e.textContent)).ID){if("1"==wpp_params.sampling_active)t=1===Math.floor(Math.random()*wpp_params.sampling_rate)+1;t&&WordPressPopularPosts.post(wpp_params.ajax_url,"_wpnonce="+wpp_params.token+"&wpp_id="+wpp_params.ID+"&sampling="+wpp_params.sampling_active+"&sampling_rate="+wpp_params.sampling_rate,(function(e){wpp_params.debug&&window.console&&window.console.log&&window.console.log(JSON.parse(e))}))}}catch(e){console.error("WPP: Couldn't read JSON data")}}(),document.addEventListener("DOMContentLoaded",(function(){for(var e=document.querySelectorAll(".wpp-widget-placeholder, .wpp-widget-block-placeholder, .wpp-shortcode-placeholder"),t=0;t<e.length;)n(e[t]),t++;var a=document.querySelectorAll(".popular-posts-sr");if(a.length)for(var p=0;p<a.length;p++)WordPressPopularPosts.theme(a[p]);function n(e){var t=e.getAttribute("data-widget-id"),a="GET",p="",n={},o="";if(t)p=wpp_params.ajax_url+"/widget/"+t.split("-")[1],o="is_single="+wpp_params.ID+(wpp_params.lang?"&lang="+wpp_params.lang:""),n={"X-WP-Nonce":wpp_params.token};else{a="POST",p=wpp_params.api_url+"/v2/widget?is_single="+wpp_params.ID+(wpp_params.lang?"&lang="+wpp_params.lang:""),n={"Content-Type":"application/json","X-WP-Nonce":wpp_params.token};var r=e.parentNode.querySelector('script[type="application/json"]');if(r){var s=JSON.parse(r.textContent);o=JSON.stringify(s)}}WordPressPopularPosts.ajax(a,p,o,(function(t){!function(e,t){t.insertAdjacentHTML("afterend",JSON.parse(e).widget);var a=t.parentNode,p=a.querySelector(".popular-posts-sr"),n=a.querySelector('script[type="application/json"]');n&&a.removeChild(n);a.removeChild(t),a.classList.add("wpp-ajax"),p&&WordPressPopularPosts.theme(p);var o=new Event("wpp-onload",{bubbles:!0,cancelable:!1});a.dispatchEvent(o)}(t,e)}),n)}}));